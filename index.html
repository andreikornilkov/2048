<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>2048 ‚Äî Telegram Game</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="telegram-app">
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div class="main-menu" id="main-menu">
            <div class="menu-content">
                <h1 class="game-title">2048</h1>
                <p class="menu-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏–≥—Ä—ã</p>
                <div class="menu-buttons">
                    <button class="tg-button large" id="play-4x4">
                        <span class="button-title">–ò–≥—Ä–∞ 4√ó4</span>
                        <span class="button-desc">–¶–µ–ª—å: 2048</span>
                    </button>
                    <button class="tg-button large" id="play-5x5">
                        <span class="button-title">–ò–≥—Ä–∞ 5√ó5</span>
                        <span class="button-desc">–¶–µ–ª—å: 4096</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <div class="game-screen" id="game-screen" style="display: none;">
            <header class="app-header">
                <div class="header-content">
                    <h1 class="game-title">2048</h1>
                    <div class="scores">
                        <div class="score-box">
                            <span>–°—á–µ—Ç</span>
                            <strong id="score">0</strong>
                        </div>
                        <div class="score-box">
                            <span>–†–µ–∫–æ—Ä–¥</span>
                            <strong id="best-score">0</strong>
                        </div>
                    </div>
                </div>
            </header>

            <main class="game-container">
                <div class="game-board" id="board"></div>
                
                <!-- –ü–∞–Ω–µ–ª—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π -->
                <div class="abilities-panel">
                    <div class="ability-buttons">
                        <button class="ability-btn" id="undo-btn" data-uses="2">
                            <span class="ability-icon">‚Ü∂</span>
                            <span class="ability-text">–û—Ç–º–µ–Ω–∏—Ç—å —Ö–æ–¥</span>
                            <span class="ability-uses">2</span>
                        </button>
                        <button class="ability-btn" id="remove-twos-btn" data-uses="2">
                            <span class="ability-icon">2</span>
                            <span class="ability-text">–£–±—Ä–∞—Ç—å –¥–≤–æ–π–∫–∏</span>
                            <span class="ability-uses">2</span>
                        </button>
                        <button class="ability-btn" id="explode-btn" data-uses="2">
                            <span class="ability-icon">üí•</span>
                            <span class="ability-text">–í–∑–æ—Ä–≤–∞—Ç—å 35%</span>
                            <span class="ability-uses">2</span>
                        </button>
                    </div>
                </div>

                <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div class="game-controls">
                    <button class="tg-button secondary" id="menu-btn">–ú–µ–Ω—é</button>
                    <button class="tg-button" id="restart-btn">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                </div>
            </main>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–±–µ–¥—ã -->
        <div class="modal" id="win-modal">
            <div class="modal-content win-modal">
                <div class="win-icon">üéâ</div>
                <h3>–í—ã –ø–æ–±–µ–¥–∏–ª–∏!</h3>
                <div class="win-stats">
                    <div class="win-stat">
                        <span>–í–∞—à —Å—á–µ—Ç:</span>
                        <strong id="win-score">0</strong>
                    </div>
                    <div class="win-stat">
                        <span>–î–æ—Å—Ç–∏–≥–Ω—É—Ç–∞—è —Ü–µ–ª—å:</span>
                        <strong id="win-target">2048</strong>
                    </div>
                </div>
                <p class="win-message">–ú–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞!</p>
                <button class="tg-button large" id="continue-btn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <div class="modal" id="settings-modal">
            <div class="modal-content">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã</h3>
                <div class="setting-group">
                    <label>–†–∞–∑–º–µ—Ä –ø–æ–ª—è:</label>
                    <select id="board-size">
                        <option value="4">4√ó4 (—Ü–µ–ª—å: 2048)</option>
                        <option value="5">5√ó5 (—Ü–µ–ª—å: 4096)</option>
                    </select>
                </div>
                <button class="tg-button" id="save-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div class="tg-notice" id="notice"></div>
    </div>

    <script src="config.js"></script>
    <script src="telegram.js"></script>
    <script src="game.js"></script>
</body>
</html>